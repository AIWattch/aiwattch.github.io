<div class="container mx-auto p-6 max-w-4xl">
  <h1 class="text-3xl font-bold mb-4">AIWattch: How does it work</h1>
  
  <p class="mb-6">
    AI Wattch is a Chrome extension that estimates and displays carbon emissions from ChatGPT conversations. The focus is on education and awareness about AI energy consumption.
  </p>

  <h2 class="text-2xl font-bold mt-8 mb-4">Core Implementation</h2>
  
  <h3 class="text-xl font-semibold mt-6 mb-3">Token Counting</h3>
  <ul class="list-disc pl-6 mb-6">
    <li>Character-based token estimation</li>
    <li>Real-time conversation tracking</li>
    <li>Basic approximation (configurable chars/token ratio)</li>
  </ul>

  <h3 class="text-xl font-semibold mt-6 mb-3">Emissions Calculation</h3>
  <p class="mb-4">
    Total Energy = (Input_Tokens * Input_Factor + Output_Tokens * Output_Factor) * PUE<br>
    Total Emissions = Total Energy * Grid_Factor
  </p>

  <h3 class="text-xl font-semibold mt-6 mb-3">Configurable Parameters</h3>
  
  <div class="mb-6">
    <h4 class="font-bold mb-2">1. Infrastructure</h4>
    <ul class="list-disc pl-6 mb-4">
      <li>PUE (datacenter <a href="https://en.wikipedia.org/wiki/Power_usage_effectiveness" class="text-blue-600 hover:underline">Power Usage Effectiveness</a>)</li>
      <li>Default: 1.125 - Range 1.0-2.0</li>
    </ul>
  </div>

  <div class="mb-6">
    <h4 class="font-bold mb-2">2. Energy Grid</h4>
    <ul class="list-disc pl-6 mb-4">
      <li>Grid Emissions Factor</li>
      <li>Default: 383 gCO2e/kWh</li>
      <li>Local: <a href="https://app.electricitymaps.com/map/72h" class="text-blue-600 hover:underline">ElectricityMap</a></li>
    </ul>
  </div>

  <div class="mb-6">
    <h4 class="font-bold mb-2">3. Token Estimation</h4>
    <ul class="list-disc pl-6 mb-4">
      <li>Characters per Token</li>
      <li>Default: 4 chars/token - range (3-5)</li>
    </ul>
  </div>

  <div class="mb-6">
    <h4 class="font-bold mb-2">4. Energy Factors</h4>
    <ul class="list-disc pl-6 mb-4">
      <li>Input Token Energy (For context processing): Default: 0.002 Wh/token</li>
      <li>Output Token Energy (For generation processing): Default: 0.01 Wh/token</li>
    </ul>
  </div>

  <h2 class="text-2xl font-bold mt-8 mb-4">Important Limitations</h2>

  <h3 class="text-xl font-semibold mt-6 mb-3">Estimation Accuracy</h3>
  <ul class="list-disc pl-6 mb-6">
    <li>Token count is based on character count approximation on web page using DOM method</li>
    <li>Cannot detect cached responses</li>
    <li>Simplified token energy estimations based on the <a href="https://huggingface.co/spaces/genai-impact/ecologits-calculator" class="text-blue-600 hover:underline">ecologITs calculator</a></li>
  </ul>

  <h3 class="text-xl font-semibold mt-6 mb-3">Scope Limitations</h3>
  <ul class="list-disc pl-6 mb-6">
    <li>Only tracks simple text interactions</li>
    <li>Does not account for:
      <ul class="list-disc pl-6 mt-2">
        <li>Complex reasoning tasks (agentic)</li>
        <li>Multimodal processing</li>
        <li>Local model deployment</li>
        <li>Hardware lifecycle embodied carbon emissions</li>
        <li>Data center embodied carbon emissions</li>
      </ul>
    </li>
  </ul>

  <h3 class="text-xl font-semibold mt-6 mb-3">Technical Limitations</h3>
  <ul class="list-disc pl-6 mb-6">
    <li>Basic token estimation</li>
    <li>Conservative energy calculations</li>
    <li>Limited to ChatGPT web interface</li>
    <li>Chrome browser only</li>
  </ul>

  <h3 class="text-xl font-semibold mt-6 mb-3">Browser Compatibility</h3>
  <ul class="list-disc pl-6 mb-6">
    <li>Chrome version tracking</li>
    <li>Minimum version requirements</li>
    <li>Version compatibility logging</li>
  </ul>

  <h3 class="text-xl font-semibold mt-6 mb-3">ChatGPT Interface Compatibility</h3>
  <ul class="list-disc pl-6 mb-6">
    <li>Version detection (logs)</li>
  </ul>
</div>
